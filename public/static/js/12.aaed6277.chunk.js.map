{"version":3,"sources":["helpers/datagridExporter.js","res/images/loading.gif","Data Stores/admin section/Grid Stores.js","Data Stores/admin section/Lookup Stores.js","pages/admin section/packages/PackagesFeatures.js","pages/admin section/packages/Subscriptions.js"],"names":["e","htmlColumns","objectColumns","workbook","ExcelJS","Workbook","worksheet","addWorksheet","i18next","t","exportDataGrid","component","customizeCell","gridCell","excelCell","rowType","objCol","find","c","column","dataField","name","value","map","v","data","d","fieldName1","fieldName2","displayName","join","htmlToText","wordwrap","Date","toDateString","fill","type","pattern","fgColor","argb","font","italic","then","xlsx","writeBuffer","buffer","saveAs","Blob","cancel","generateParamsForRequest","loadOptions","isMoreOptions","params","i","JSON","stringify","slice","rolesDataGrid","CustomStore","key","load","request","get","totalCount","allCount","insert","values","post","update","idRole","remove","delete","roleResourcesDataGrid","Object","keys","length","reset","resources","usersDataGrid","summary","idUser","companiesDataGrid","idCompany","companiesTypesDataGrid","idCompanyType","packagesDataGrid","validitySeconds","idSubscriptionPackage","promotionsDataGrid","idPromotion","subscriptionsDataGrid","groupCount","k","items","idSubscription","complaintsDataGrid","categoriesDataGrid","idCategory","brandsDataGrid","idBrand","productsDataGrid","idProduct","faqsDataGrid","idFaq","ordersDataGrid","idTender","offersDataGrid","idOffer","paymentsDataGrid","adsDataGrid","durationMs","idAd","usersDataLookup","byKey","allResourcesDataLookup","resourcesWithDefaultPermissions","r","permissions","ADD","EDIT","DELETE","READ","EXPORT","companiesDataLookup","companiesTypesDataLookup","featuresDataLookup","featureValue","promotionsDataLookup","packagesDataLookup","id","categoriesDataLookup","brandsDataLookup","productsDataLookup","orderStatusDataLookup","offerStatusDataLookup","ordersDataLookup","countriesDataLookup","citiesDataLookup","memo","withTranslation","features","onSave","readOnly","useState","fets","setFets","setValues","loading","setLoading","error","setError","getPackageFeatures","newFets","j","idSubscriptionFeature","subscriptionFeatureId","f","postPackageFeatures","filter","s","subscriptionPackageId","useEffect","basic","dataSource","keyExpr","wordWrapEnabled","columnAutoWidth","showBorders","columnHidingEnabled","hoverStateEnabled","loadPanel","indicatorSrc","LoadingGifImage","selectedRowKeys","onSelectionChanged","selectedRowsData","mode","useIcons","allowUpdating","refreshMode","allowEditing","caption","dataType","textAlign","onClick","positive","DS","store","RequireFetchData","props","useTranslation","showFeatures","setShowFeatures","row","setRow","onHideFeatures","lookUpEditCellRender","cell","searchExpr","valueExpr","displayExpr","searchEnabled","searchMode","defaultValue","lookup","disabled","isNewRow","onValueChanged","setValue","title","remoteOperations","repaintChangesOnly","onExporting","datagridExporter","grouping","defaultPageSize","showPageSizeSelector","allowedPageSizes","showInfo","showNavigationButtons","autoExpandAll","visible","allowAdding","allowDeleting","showTitle","resizeEnabled","my","at","of","window","itemType","colCount","colSpan","isRequired","groupIndex","editCellRender","firstName","lastName","email","nameEn","isActive","format","precision","code","discountUsd","hint","icon","enabled","onClose","open","content","closeIcon","header","size","centered","closeOnDimmerClick"],"mappings":"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","file":"static/js/12.aaed6277.chunk.js","sourcesContent":["import { exportDataGrid } from 'devextreme/exporter/exceljs/export_data_grid';\r\nimport { htmlToText } from 'html-to-text';\r\nimport i18next from 'i18next';\r\nimport saveAs from 'file-saver';\r\nimport ExcelJS from 'exceljs';\r\n\r\nexport default (e, htmlColumns = [], objectColumns = []) => {\r\n    const workbook = new ExcelJS.Workbook();\r\n    const worksheet = workbook.addWorksheet(i18next.t('DataGrid'));\r\n\r\n    exportDataGrid({\r\n        component: e.component,\r\n        worksheet: worksheet,\r\n        customizeCell: ({ gridCell, excelCell }) => {\r\n\r\n            if (gridCell.rowType === 'data') {\r\n                const objCol = objectColumns.find(c => gridCell.column.dataField === c.name);\r\n                if (objCol && gridCell.value) {\r\n                    excelCell.value = gridCell.value.map(v => {\r\n                        const res = objCol.data.find(d => d[objCol.fieldName1] === v[objCol.fieldName2]);\r\n                        return res[objCol.displayName];\r\n                    }).join();\r\n                }\r\n\r\n                if (htmlColumns.find(c => gridCell.column.dataField === c)) {\r\n                    excelCell.value = htmlToText(gridCell.value, { wordwrap: null });\r\n                }\r\n\r\n                if (gridCell.column.dataField === 'creatAt') {\r\n                    excelCell.value = new Date(gridCell.value).toDateString();\r\n                }\r\n                if (gridCell.column.dataField === 'isActive') {\r\n                    excelCell.value = gridCell.value ? i18next.t('YES') : i18next.t('NO');\r\n                }\r\n            }\r\n            if (gridCell.rowType === 'group') {\r\n                excelCell.fill = { type: 'pattern', pattern: 'solid', fgColor: { argb: 'BEDFE6' } };\r\n            }\r\n            if (gridCell.rowType === 'totalFooter' && excelCell.value) {\r\n                excelCell.font.italic = true;\r\n            }\r\n        }\r\n    }).then(() => {\r\n        workbook.xlsx.writeBuffer().then((buffer) => {\r\n            saveAs(new Blob([buffer], { type: 'application/octet-stream' }), 'DataGrid.xlsx');\r\n        });\r\n    });\r\n    e.cancel = true;\r\n};","export default \"data:image/gif;base64,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\"","import CustomStore from 'devextreme/data/custom_store';\r\nimport request from '../../api';\r\n\r\n\r\nconst generateParamsForRequest = (loadOptions, isMoreOptions) => {\r\n    let params = '?';\r\n    for (let i in loadOptions) {\r\n        if (loadOptions[i])\r\n            params += `${i}=${JSON.stringify(loadOptions[i])}&`;\r\n    }\r\n    if (isMoreOptions)\r\n        return params;\r\n    return params = params.slice(0, -1);\r\n};\r\n\r\n\r\nexport const rolesDataGrid = new CustomStore({\r\n    key: 'idRole',\r\n    load: async (loadOptions) => {\r\n        try {\r\n            const params = generateParamsForRequest(loadOptions);\r\n            const { data: { data, allCount: totalCount } } = await request.get(`/admin/ac/roles/full${params}`);\r\n            return { data, totalCount };\r\n        } catch (err) {\r\n            return err;\r\n        }\r\n    },\r\n    insert: async (values) => await request.post('/admin/ac/role', values),\r\n    update: async (key, values) => await request.post('/admin/ac/role/update', { ...values, idRole: key }),\r\n    remove: async (key) => await request.delete('/admin/ac/role', { data: { idRole: key } })\r\n});\r\n\r\nexport const roleResourcesDataGrid = (idRole) => new CustomStore({\r\n    key: 'idResource',\r\n    load: async () => {\r\n        try {\r\n            const { data: { data } } = await request.get(`/admin/ac/role/${idRole}/permissions/full`);\r\n            return { data, totalCount: Object.keys(data).length };\r\n        } catch (err) {\r\n            return err;\r\n        }\r\n    },\r\n    // insert: async (values) => await request.post('/access_control/role/resource', { resourceId: values.resource, idRole }),\r\n    // remove: async (key) => await request.delete('/access_control/role/resource', { data: { resourceId: key, idRole } })\r\n});\r\nroleResourcesDataGrid.reset = async (idRole, resources) => await request.post('/admin/ac/role/permissions/reset', { idRole, resources });\r\n\r\n\r\nexport const usersDataGrid = new CustomStore({\r\n    key: 'idUser',\r\n    load: async (loadOptions) => {\r\n        try {\r\n            const params = generateParamsForRequest(loadOptions, true);\r\n            const { data: { data, allCount: totalCount, summary } } = await request.get(`/admin/users/full${params}`);\r\n            return { data, totalCount, summary };\r\n        } catch (err) {\r\n            return err;\r\n        }\r\n    },\r\n    insert: async (values) => await request.post('/admin/user', values),\r\n    update: async (key, values) => await request.post('/admin/user/update', { ...values, idUser: key }),\r\n    remove: async (key) => await request.delete('/admin/user', { data: { idUser: key } })\r\n});\r\n\r\nexport const companiesDataGrid = new CustomStore({\r\n    key: 'idCompany',\r\n    load: async (loadOptions) => {\r\n        try {\r\n            const params = generateParamsForRequest(loadOptions, true);\r\n            const { data: { data, allCount: totalCount } } = await request.get(`/admin/company/full${params}`);\r\n            return { data, totalCount };\r\n        } catch (err) {\r\n            return err;\r\n        }\r\n    },\r\n    insert: async (values) => await request.post('/admin/company', values),\r\n    update: async (key, values) => await request.post('/admin/company/update', { ...values, idCompany: key }),\r\n    remove: async (key) => await request.delete('/admin/company', { data: { idCompany: key } })\r\n});\r\n\r\nexport const companiesTypesDataGrid = new CustomStore({\r\n    key: 'idCompanyType',\r\n    load: async (loadOptions) => {\r\n        try {\r\n            const params = generateParamsForRequest(loadOptions, true);\r\n            const { data: { data, allCount: totalCount } } = await request.get(`/admin/company-type/full${params}`);\r\n            return { data, totalCount };\r\n        } catch (err) {\r\n            return err;\r\n        }\r\n    },\r\n    insert: async (values) => await request.post('/admin/company-type', values),\r\n    update: async (key, values) => await request.post('/admin/company-type/update', { ...values, idCompanyType: key }),\r\n    remove: async (key) => await request.delete('/admin/company-type', { data: { idCompanyType: key } })\r\n});\r\n\r\nexport const packagesDataGrid = new CustomStore({\r\n    key: 'idSubscriptionPackage',\r\n    load: async (loadOptions) => {\r\n        try {\r\n            const params = generateParamsForRequest(loadOptions, true);\r\n            const { data: { data, allCount: totalCount } } = await request.get(`/admin/subscription/packages/full${params}`);\r\n            return { data, totalCount };\r\n        } catch (err) {\r\n            return err;\r\n        }\r\n    },\r\n    insert: async (values) => await request.post('/admin/subscription/package', { ...values, validitySeconds: values.validitySeconds * 60 * 60 * 24 }),\r\n    update: async (key, values) => await request.post('/admin/subscription/package/update', { ...values, idSubscriptionPackage: key, validitySeconds: values.validitySeconds * 60 * 60 * 24 }),\r\n    remove: async (key) => await request.delete('/admin/subscription/package', { data: { idSubscriptionPackage: key } })\r\n});\r\n\r\nexport const promotionsDataGrid = new CustomStore({\r\n    key: 'idPromotion',\r\n    load: async (loadOptions) => {\r\n        try {\r\n            const params = generateParamsForRequest(loadOptions, true);\r\n            const { data: { data, allCount: totalCount } } = await request.get(`/admin/subscription/promotions/full${params}`);\r\n            return { data, totalCount };\r\n        } catch (err) {\r\n            return err;\r\n        }\r\n    },\r\n    insert: async (values) => await request.post('/admin/subscription/promotion', values),\r\n    update: async (key, values) => await request.post('/admin/subscription/promotion/update', { ...values, idPromotion: key }),\r\n    remove: async (key) => await request.delete('/admin/subscription/promotion', { data: { idPromotion: key } })\r\n});\r\n\r\nexport const subscriptionsDataGrid = new CustomStore({\r\n    key: 'idSubscription',\r\n    load: async (loadOptions) => {\r\n        try {\r\n            const params = generateParamsForRequest(loadOptions, true);\r\n            const { data: { data, allCount: totalCount, groupCount } } = await request.get(`/admin/subscription/users-subscriptions/full${params}`);\r\n            const d = Object.keys(data).map(k => ({ key: k, items: data[k] }));\r\n            return { data: d, totalCount, groupCount };\r\n        } catch (err) {\r\n            return err;\r\n        }\r\n    },\r\n    insert: async (values) => await request.post('/admin/subscription/user-subscription', values),\r\n    update: async (key, values) => await request.post('/admin/subscription/user-subscription/update', { ...values, idSubscription: key }),\r\n    remove: async (key) => await request.delete('/admin/subscription/user-subscription', { data: { idSubscription: key } })\r\n});\r\n\r\nexport const complaintsDataGrid = new CustomStore({\r\n    key: 'idIssueReport',\r\n    load: async (loadOptions) => {\r\n        try {\r\n            const params = generateParamsForRequest(loadOptions, true);\r\n            const { data: { data, allCount: totalCount } } = await request.get(`/admin/issues-reports/full${params}`);\r\n            return { data, totalCount };\r\n        } catch (err) {\r\n            return err;\r\n        }\r\n    },\r\n});\r\n\r\nexport const categoriesDataGrid = new CustomStore({\r\n    key: 'idCategory',\r\n    load: async (loadOptions) => {\r\n        try {\r\n            const params = generateParamsForRequest(loadOptions, true);\r\n            const { data: { data, allCount: totalCount } } = await request.get(`/admin/categories/full${params}`);\r\n            return { data, totalCount };\r\n        } catch (err) {\r\n            return err;\r\n        }\r\n    },\r\n    insert: async (values) => await request.post('/admin/category', values),\r\n    update: async (key, values) => await request.post('/admin/category/update', { ...values, idCategory: key }),\r\n    remove: async (key) => await request.delete('/admin/category', { data: { idCategory: key } })\r\n});\r\n\r\nexport const brandsDataGrid = new CustomStore({\r\n    key: 'idBrand',\r\n    load: async (loadOptions) => {\r\n        try {\r\n            const params = generateParamsForRequest(loadOptions, true);\r\n            const { data: { data, allCount: totalCount } } = await request.get(`/admin/brands/full${params}`);\r\n            return { data, totalCount };\r\n        } catch (err) {\r\n            return err;\r\n        }\r\n    },\r\n    insert: async (values) => await request.post('/admin/brand', values),\r\n    update: async (key, values) => await request.post('/admin/brand/update', { ...values, idBrand: key }),\r\n    remove: async (key) => await request.delete('/admin/brand', { data: { idBrand: key } })\r\n});\r\n\r\nexport const productsDataGrid = new CustomStore({\r\n    key: 'idProduct',\r\n    load: async (loadOptions) => {\r\n        try {\r\n            const params = generateParamsForRequest(loadOptions, true);\r\n            const { data: { data, allCount: totalCount } } = await request.get(`/admin/products/full${params}`);\r\n            return { data, totalCount };\r\n        } catch (err) {\r\n            return err;\r\n        }\r\n    },\r\n    insert: async (values) => await request.post('/admin/product', values),\r\n    update: async (key, values) => await request.post('/admin/product/update', { ...values, idProduct: key }),\r\n    remove: async (key) => await request.delete('/admin/product', { data: { idProduct: key } })\r\n});\r\n\r\nexport const faqsDataGrid = new CustomStore({\r\n    key: 'idFaq',\r\n    load: async (loadOptions) => {\r\n        try {\r\n            const params = generateParamsForRequest(loadOptions, true);\r\n            const { data: { data, allCount: totalCount } } = await request.get(`/admin/faqs/full${params}`);\r\n            return { data, totalCount };\r\n        } catch (err) {\r\n            return err;\r\n        }\r\n    },\r\n    insert: async (values) => await request.post('/admin/faq', values),\r\n    update: async (key, values) => await request.post('/admin/faq/update', { ...values, idFaq: key }),\r\n    remove: async (key) => await request.delete('/admin/faq', { data: { idFaq: key } })\r\n});\r\n\r\nexport const ordersDataGrid = new CustomStore({\r\n    key: 'idTender',\r\n    load: async (loadOptions) => {\r\n        try {\r\n            const params = generateParamsForRequest(loadOptions, true);\r\n            const { data: { data, allCount: totalCount } } = await request.get(`/admin/tenders/full${params}`);\r\n            return { data, totalCount };\r\n        } catch (err) {\r\n            return err;\r\n        }\r\n    },\r\n    insert: async (values) => await request.post('/admin/tender', values),\r\n    update: async (key, values) => await request.post('/admin/tender/update', { ...values, idTender: key }),\r\n    remove: async (key) => await request.delete('/admin/tender', { data: { idTender: key } })\r\n});\r\n\r\nexport const offersDataGrid = new CustomStore({\r\n    key: 'idOffer',\r\n    load: async (loadOptions) => {\r\n        try {\r\n            const params = generateParamsForRequest(loadOptions, true);\r\n            const { data: { data, allCount: totalCount } } = await request.get(`/admin/offers/full${params}`);\r\n            return { data, totalCount };\r\n        } catch (err) {\r\n            return err;\r\n        }\r\n    },\r\n    insert: async (values) => await request.post('/admin/offer', values),\r\n    update: async (key, values) => await request.post('/admin/offer/update', { ...values, idOffer: key }),\r\n    remove: async (key) => await request.delete('/admin/offer', { data: { idOffer: key } })\r\n});\r\n\r\nexport const paymentsDataGrid = new CustomStore({\r\n    key: 'idPayment',\r\n    load: async (loadOptions) => {\r\n        try {\r\n            const params = generateParamsForRequest(loadOptions, true);\r\n            const { data: { data, allCount: totalCount, summary } } = await request.get(`/admin/payments/full${params}`);\r\n            return { data, totalCount, summary };\r\n        } catch (err) {\r\n            return err;\r\n        }\r\n    },\r\n    // insert: async (values) => await request.post('/admin/faq', values),\r\n    // update: async (key, values) => await request.post('/admin/faq/update', { ...values, idFaq: key }),\r\n    // remove: async (key) => await request.delete('/admin/faq', { data: { idFaq: key } })\r\n});\r\n\r\nexport const adsDataGrid = new CustomStore({\r\n    key: 'idAd',\r\n    load: async (loadOptions) => {\r\n        try {\r\n            const params = generateParamsForRequest(loadOptions, true);\r\n            const { data: { data, allCount: totalCount } } = await request.get(`/admin/ads/full${params}`);\r\n            return { data, totalCount };\r\n        } catch (err) {\r\n            return err;\r\n        }\r\n    },\r\n    insert: async (values) => await request.post('/admin/ad', { ...values, durationMs: values.durationMs * 1000 * 60 * 60 * 24 }),\r\n    update: async (key, values) => await request.post('/admin/ad/update', { ...values, durationMs: values.durationMs * 1000 * 60 * 60 * 24, idAd: key }),\r\n    remove: async (key) => await request.delete('/admin/ad', { data: { idAd: key } })\r\n});","import CustomStore from 'devextreme/data/custom_store';\r\nimport i18next from 'i18next';\r\nimport request from '../../api';\r\n\r\nconst generateParamsForRequest = (loadOptions, isMoreOptions) => {\r\n    let params = '?';\r\n    for (let i in loadOptions) {\r\n        if (loadOptions[i])\r\n            params += `${i}=${JSON.stringify(loadOptions[i])}&`;\r\n    }\r\n    if (isMoreOptions)\r\n        return params;\r\n    return params = params.slice(0, -1);\r\n};\r\n\r\n\r\nexport const usersDataLookup = new CustomStore({\r\n    key: 'idUser',\r\n    byKey: async (key) => { },\r\n    load: async (loadOptions) => {\r\n        try {\r\n            const params = generateParamsForRequest(loadOptions);\r\n            const { data: { data } } = await request.get(`/admin/users/full${params}`);\r\n            return { data, totalCount: data.length };\r\n        } catch (err) {\r\n            return err;\r\n        }\r\n    },\r\n});\r\n\r\nexport const rolesDataLookup = new CustomStore({\r\n    key: 'idRole',\r\n    byKey: async (key) => { },\r\n    load: async (loadOptions) => {\r\n        try {\r\n            const params = generateParamsForRequest(loadOptions);\r\n            const { data: { data, allCount: totalCount } } = await request.get(`/admin/ac/roles/full${params}`);\r\n            return { data, totalCount };\r\n        } catch (err) {\r\n            return err;\r\n        }\r\n    },\r\n});\r\n\r\n\r\nexport const allResourcesDataLookup = new CustomStore({\r\n    key: 'idResource',\r\n    byKey: async (key) => { },\r\n    load: async (loadOptions) => {\r\n        try {\r\n            const params = generateParamsForRequest(loadOptions);\r\n            const { data: { data, allCount: totalCount } } = await request.get(`/admin/ac/resources/full${params}`);\r\n            const resourcesWithDefaultPermissions = data.map(r => ({ ...r, permissions: { ADD: false, EDIT: false, DELETE: false, READ: false, EXPORT: false } }));\r\n            return { data: resourcesWithDefaultPermissions, totalCount };\r\n        } catch (err) {\r\n            return err;\r\n        }\r\n    },\r\n});\r\n\r\n\r\n\r\nexport const permissionsDataLookup = new CustomStore({\r\n    key: 'id',\r\n    byKey: async (key) => { },\r\n    load: async (loadOptions) => {\r\n        try {\r\n            const params = generateParamsForRequest(loadOptions);\r\n            const { data } = await request.get(`/admin/ac/permissions/full${params}`);\r\n            return { data, totalCount: data.length };\r\n        } catch (err) {\r\n            return err;\r\n        }\r\n    },\r\n});\r\n\r\n\r\nexport const companiesDataLookup = new CustomStore({\r\n    key: 'idCompany',\r\n    byKey: async (key) => { },\r\n    load: async (loadOptions) => {\r\n        try {\r\n            const params = generateParamsForRequest(loadOptions);\r\n            const { data: { data } } = await request.get(`/admin/company/full${params}`);\r\n            return { data, totalCount: data.length };\r\n        } catch (err) {\r\n            return err;\r\n        }\r\n    },\r\n});\r\n\r\nexport const companiesTypesDataLookup = new CustomStore({\r\n    key: 'idCompanyType',\r\n    byKey: async (key) => { },\r\n    load: async (loadOptions) => {\r\n        try {\r\n            const params = generateParamsForRequest(loadOptions);\r\n            const { data: { data } } = await request.get(`/admin/company-type/full${params}`);\r\n            return { data, totalCount: data.length };\r\n        } catch (err) {\r\n            return err;\r\n        }\r\n    },\r\n});\r\n\r\nexport const featuresDataLookup = new CustomStore({\r\n    key: 'idSubscriptionFeature',\r\n    byKey: async (key) => { },\r\n    load: async (loadOptions) => {\r\n        try {\r\n            const params = generateParamsForRequest(loadOptions);\r\n            const { data: { data } } = await request.get(`/admin/subscription/features/full${params}`);\r\n            return { data: data.map(d => ({ ...d, featureValue: null })), totalCount: data.length };\r\n        } catch (err) {\r\n            return err;\r\n        }\r\n    },\r\n});\r\n\r\nexport const promotionsDataLookup = new CustomStore({\r\n    key: 'idPromotion',\r\n    byKey: async (key) => { },\r\n    load: async (loadOptions) => {\r\n        try {\r\n            const params = generateParamsForRequest(loadOptions);\r\n            const { data: { data } } = await request.get(`/admin/subscription/promotions/full${params}`);\r\n            return { data, totalCount: data.length };\r\n        } catch (err) {\r\n            return err;\r\n        }\r\n    },\r\n});\r\n\r\nexport const promotionsTypesDataLookup = new CustomStore({\r\n    key: 'id',\r\n    byKey: async (key) => { },\r\n    load: async () => {\r\n        try {\r\n            const data = [{ id: 1, type: 'ONE_TIME', value: i18next.t('Onetime') }, { id: 2, type: 'PERIOD_BASED', value: i18next.t('Period') }];\r\n            return { data, totalCount: 2 };\r\n        } catch (err) {\r\n            return err;\r\n        }\r\n    },\r\n});\r\n\r\nexport const packagesDataLookup = new CustomStore({\r\n    key: 'idSubscriptionPackage',\r\n    byKey: async (key) => { },\r\n    load: async (loadOptions) => {\r\n        try {\r\n            const params = generateParamsForRequest(loadOptions);\r\n            const { data: { data } } = await request.get(`/admin/subscription/packages/full${params}`);\r\n            return { data, totalCount: data.length };\r\n        } catch (err) {\r\n            return err;\r\n        }\r\n    },\r\n});\r\n\r\nexport const categoriesDataLookup = new CustomStore({\r\n    key: 'idCategory',\r\n    byKey: async (key) => { },\r\n    load: async (loadOptions) => {\r\n        try {\r\n            const params = generateParamsForRequest(loadOptions);\r\n            const { data: { data } } = await request.get(`/admin/categories/full${params}`);\r\n            return { data, totalCount: data.length };\r\n        } catch (err) {\r\n            return err;\r\n        }\r\n    },\r\n});\r\n\r\nexport const brandsDataLookup = new CustomStore({\r\n    key: 'idBrand',\r\n    byKey: async (key) => { },\r\n    load: async (loadOptions) => {\r\n        try {\r\n            const params = generateParamsForRequest(loadOptions);\r\n            const { data: { data } } = await request.get(`/admin/brands/full${params}`);\r\n            return { data, totalCount: data.length };\r\n        } catch (err) {\r\n            return err;\r\n        }\r\n    },\r\n});\r\n\r\nexport const productsDataLookup = new CustomStore({\r\n    key: 'idProduct',\r\n    byKey: async (key) => { },\r\n    load: async (loadOptions) => {\r\n        try {\r\n            const params = generateParamsForRequest(loadOptions);\r\n            const { data: { data } } = await request.get(`/admin/products/full${params}`);\r\n            return { data, totalCount: data.length };\r\n        } catch (err) {\r\n            return err;\r\n        }\r\n    },\r\n});\r\n\r\n\r\nexport const orderStatusDataLookup = new CustomStore({\r\n    key: 'id',\r\n    byKey: async (key) => { },\r\n    load: async () => {\r\n        try {\r\n            const data = [\r\n                { id: 1, type: 'OPENED', value: i18next.t('Opened') },\r\n                { id: 2, type: 'CLOSED', value: i18next.t('Closed') },\r\n            ];\r\n            return { data, totalCount: data.length };\r\n        } catch (err) {\r\n            return err;\r\n        }\r\n    },\r\n});\r\n\r\nexport const offerStatusDataLookup = new CustomStore({\r\n    key: 'id',\r\n    byKey: async (key) => { },\r\n    load: async () => {\r\n        try {\r\n            const data = [\r\n                { id: 1, type: 'PENDING', value: i18next.t('PENDING') },\r\n                { id: 2, type: 'REJECTED', value: i18next.t('REJECTED') },\r\n                { id: 3, type: 'EXECUTING_PENDING', value: i18next.t('EXECUTING_PENDING') },\r\n                { id: 4, type: 'EXECUTED', value: i18next.t('EXECUTED') }\r\n            ];\r\n            return { data, totalCount: data.length };\r\n        } catch (err) {\r\n            return err;\r\n        }\r\n    },\r\n});\r\n\r\n\r\nexport const ordersDataLookup = new CustomStore({\r\n    key: 'idOrder',\r\n    byKey: async (key) => { },\r\n    load: async (loadOptions) => {\r\n        try {\r\n            const params = generateParamsForRequest(loadOptions);\r\n            const { data: { data } } = await request.get(`/admin/tenders/full${params}`);\r\n            return { data, totalCount: data.length };\r\n        } catch (err) {\r\n            return err;\r\n        }\r\n    },\r\n});\r\n\r\n\r\nexport const countriesDataLookup = new CustomStore({\r\n    key: 'idCountry',\r\n    byKey: async (key) => { },\r\n    load: async (loadOptions) => {\r\n        try {\r\n            const params = generateParamsForRequest(loadOptions);\r\n            const { data: { data, allCount: totalCount } } = await request.get(`/admin/countries${params}`);\r\n            return { data, totalCount };\r\n        } catch (err) {\r\n            return err;\r\n        }\r\n    },\r\n});\r\n\r\nexport const citiesDataLookup = new CustomStore({\r\n    key: 'idCity',\r\n    byKey: async (key) => { },\r\n    load: async (loadOptions) => {\r\n        try {\r\n            const params = generateParamsForRequest(loadOptions);\r\n            const { data: { data, allCount: totalCount } } = await request.get(`/admin/cities${params}`);\r\n            return { data, totalCount };\r\n        } catch (err) {\r\n            return err;\r\n        }\r\n    },\r\n});","import React, { useEffect, useState, memo } from 'react';\r\nimport { Button, Segment } from 'semantic-ui-react';\r\nimport { withTranslation } from 'react-i18next';\r\nimport DataGrid, { Column, Selection, Editing } from 'devextreme-react/data-grid';\r\nimport request from '../../../api';\r\nimport { ErrorSegment } from '../../../components';\r\n\r\nimport LoadingGifImage from '../../../res/images/loading.gif';\r\n\r\n\r\nconst PackageFeatures = ({ id, features, onSave, t, readOnly }) => {\r\n    const [fets, setFets] = useState(features);\r\n    const [values, setValues] = useState([]);\r\n    const [loading, setLoading] = useState(false);\r\n    const [error, setError] = useState('');\r\n\r\n    const getPackageFeatures = async () => {\r\n        try {\r\n            const { data: { data } } = await request.get(`/admin/subscription/package/${id}/features`);\r\n            const newFets = [...fets];\r\n            for (let i = 0; i < fets.length; i++) {\r\n                for (let j = 0; j < data.length; j++) {\r\n                    if (fets[i].idSubscriptionFeature === data[j].subscriptionFeatureId)\r\n                        newFets[i].featureValue = data[j].featureValue;\r\n                }\r\n            }\r\n            setFets(newFets);\r\n            setValues(data.map(f => ({ ...f, idSubscriptionFeature: f.subscriptionFeatureId })));\r\n        } catch (err) {\r\n            setError(err);\r\n        }\r\n    };\r\n\r\n    const postPackageFeatures = async () => {\r\n        try {\r\n            setLoading(true);\r\n            await request.post('/admin/subscription/package/features/reset', { features: values.filter(s => s.featureValue).map(f => ({ ...f, subscriptionFeatureId: f.idSubscriptionFeature })), subscriptionPackageId: id });\r\n        } catch (err) {\r\n            setError(err);\r\n        } finally {\r\n            setLoading(false);\r\n            if (onSave) onSave();\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        getPackageFeatures();\r\n        return () => setValues([]);\r\n        //eslint-disable-next-line\r\n    }, []);\r\n\r\n    if (error) return <ErrorSegment />;\r\n\r\n    return (\r\n        <Segment basic>\r\n            <DataGrid\r\n                dataSource={fets}\r\n                keyExpr=\"idSubscriptionFeature\"\r\n                wordWrapEnabled\r\n                columnAutoWidth\r\n                showBorders\r\n                columnHidingEnabled\r\n                hoverStateEnabled\r\n                loadPanel={{ indicatorSrc: LoadingGifImage }}\r\n                selectedRowKeys={values.map(f => f.idSubscriptionFeature)}\r\n                onSelectionChanged={(e) => setValues((e.selectedRowsData.length && e.selectedRowsData.filter(s => s.featureValue)) || [])}\r\n            >\r\n                {!readOnly && <Editing\r\n                    mode='batch'\r\n                    useIcons\r\n                    allowUpdating\r\n                    refreshMode='reshape'\r\n                />}\r\n\r\n                {!readOnly && <Selection mode=\"multiple\" />}\r\n                <Column dataField=\"nameEn\" allowEditing={false} caption={t('Time')} />\r\n                <Column dataField=\"descriptionEn\" allowEditing={false} caption={t('Description')} />\r\n                <Column dataField=\"featureValue\" dataType='number' caption={t('Value')} />\r\n            </DataGrid>\r\n\r\n            {!readOnly && <Segment basic textAlign='right'>\r\n                <Button onClick={postPackageFeatures} positive loading={loading}>{t('Save')}</Button>\r\n            </Segment>}\r\n        </Segment>\r\n    );\r\n};\r\n\r\nexport default memo(withTranslation()(PackageFeatures));\r\n","import React, { useState } from 'react';\r\nimport { Modal, Segment } from 'semantic-ui-react';\r\nimport DataGrid, { Column, Button, Editing, FilterPanel, Popup, FilterRow, Form, Grouping, Lookup, Position, Pager, Paging, RemoteOperations, RequiredRule, SearchPanel, Sorting, Export } from 'devextreme-react/data-grid';\r\nimport { Item } from 'devextreme-react/ui/form';\r\nimport { SelectBox } from 'devextreme-react/ui/select-box';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { PageHeader } from '../../../components';\r\nimport { subscriptionsDataGrid, usersDataLookup, packagesDataLookup, promotionsDataLookup, featuresDataLookup } from '../../../Data Stores';\r\nimport LoadingGifImage from '../../../res/images/loading.gif';\r\nimport datagridExporter from '../../../helpers/datagridExporter';\r\nimport { RequireFetchData } from '../../../middlewares/HOC';\r\nimport PackagesFeatures from './PackagesFeatures';\r\n\r\nconst Subscriptions = (props) => {\r\n\r\n    const { features } = props;\r\n    const { t } = useTranslation();\r\n\r\n\r\n    const [showFeatures, setShowFeatures] = useState(false);\r\n    const [row, setRow] = useState([]);\r\n\r\n    const onShowFeatures = (e) => {\r\n        setRow([e.row.data.subscriptionPackageId]);\r\n        setShowFeatures(true);\r\n    };\r\n\r\n    const onHideFeatures = () => {\r\n        setShowFeatures(false);\r\n        setRow([]);\r\n    };\r\n\r\n    const lookUpEditCellRender = (cell, searchExpr, valueExpr, displayExpr) => {\r\n        return <SelectBox\r\n            searchEnabled\r\n            searchExpr={searchExpr}\r\n            searchMode='contains'\r\n            defaultValue={cell.value}\r\n            {...cell.column.lookup}\r\n            disabled={!cell.row.isNewRow}\r\n            valueExpr={valueExpr}\r\n            displayExpr={displayExpr}\r\n            onValueChanged={({ value }) => cell.setValue(value)}\r\n        />;\r\n    };\r\n\r\n    return (\r\n        <Segment basic>\r\n            <PageHeader title={t('Subscriptions')} />\r\n            <Segment basic>\r\n                <DataGrid\r\n                    dataSource={subscriptionsDataGrid}\r\n                    showBorders\r\n                    columnHidingEnabled\r\n                    wordWrapEnabled\r\n                    columnAutoWidth\r\n                    remoteOperations\r\n                    repaintChangesOnly\r\n                    loadPanel={{ indicatorSrc: LoadingGifImage }}\r\n                    onExporting={datagridExporter}\r\n                >\r\n                    <RemoteOperations grouping />\r\n                    <Paging defaultPageSize={10} />\r\n                    <Pager\r\n                        showPageSizeSelector\r\n                        allowedPageSizes={[10, 20, 50, 100, 500, 1000]}\r\n                        showInfo\r\n                        showNavigationButtons\r\n                    />\r\n                    <Sorting mode='multiple' />\r\n                    <Grouping autoExpandAll={false} />\r\n                    <FilterRow visible />\r\n                    <FilterPanel visible />\r\n                    <SearchPanel visible />\r\n\r\n                    <Editing\r\n                        mode='popup'\r\n                        useIcons\r\n                        allowAdding\r\n                        allowUpdating\r\n                        allowDeleting\r\n                        refreshMode='reshape'\r\n                    >\r\n                        <Popup title={t('Subscription')} showTitle resizeEnabled >\r\n                            <Position my=\"middle\" at=\"middle\" of={window} />\r\n                        </Popup>\r\n                        <Form>\r\n                            <Item itemType=\"group\" colCount={2} colSpan={2}>\r\n                                <Item isRequired dataField='userId' colSpan={2} />\r\n                                <Item isRequired dataField='subscriptionPackageId' colSpan={2} />\r\n                                <Item dataField='promotionId' colSpan={2} />\r\n                                <Item dataField='isActive' />\r\n                            </Item>\r\n                        </Form>\r\n                    </Editing>\r\n\r\n                    <Column dataField=\"userId\" groupIndex={0} caption={t('User')} editCellRender={(cell) => lookUpEditCellRender(cell, 'email', 'idUser', (data) => (data && `${data.firstName} ${data.lastName} [${data.email}]`))}>\r\n                        <Lookup\r\n                            dataSource={{ store: usersDataLookup, filter: [\"isAdmin\", '=', false] }}\r\n                            displayExpr={(data) => (data && `${data.firstName} ${data.lastName} [${data.email}]`)}\r\n                            valueExpr=\"idUser\"\r\n                        />\r\n                        <RequiredRule />\r\n                    </Column>\r\n\r\n                    <Column dataField=\"subscriptionPackageId\" caption={t('Package')} editCellRender={(cell) => lookUpEditCellRender(cell, 'nameEn', 'idSubscriptionPackage', (data) => (data && `${data.nameEn} / ${t('Active')} [${data.isActive ? t('YES') : t('NO')}]`))}>\r\n                        <Lookup\r\n                            dataSource={packagesDataLookup}\r\n                            displayExpr=\"nameEn\"\r\n                            valueExpr=\"idSubscriptionPackage\"\r\n                        />\r\n                        <RequiredRule />\r\n                    </Column>\r\n\r\n                    <Column dataField=\"actualCostUsd\" caption={t('Price')} format={{ type: \"currency\", precision: 2 }} />\r\n                    <Column dataField=\"promotionId\" caption={t('Promotion')} editCellRender={(cell) => lookUpEditCellRender(cell, 'code', 'idPromotion', (data) => (data && `ID [ ${data.code} ] | ${t('Discount')}: [ ${data.discountUsd} $ ]`))}>\r\n                        <Lookup\r\n                            dataSource={promotionsDataLookup}\r\n                            displayExpr={(data) => (data && `ID [ ${data.code} ]`)}\r\n                            valueExpr='idPromotion'\r\n                        />\r\n                    </Column>\r\n                    <Column dataField=\"subscribAt\" dataType=\"date\" caption={t('StartAt')} />\r\n                    <Column dataField=\"expirAt\" dataType=\"date\" caption={t('EndAt')} />\r\n                    {/* <Column dataField='paymentStatus' caption={t('Status')} /> */}\r\n                    <Column\r\n                        caption={t('Active')}\r\n                        dataType=\"boolean\"\r\n                        dataField='isActive'\r\n                    />\r\n                    <Column\r\n                        caption={t('Valid')}\r\n                        dataType=\"boolean\"\r\n                        dataField='isValid'\r\n                    />\r\n\r\n                    <Column type=\"buttons\" caption={t('Actions')}>\r\n                        <Button name=\"edit\" />\r\n                        <Button name=\"delete\" />\r\n                        <Button hint={t('Features')} icon=\"bulletlist\" onClick={onShowFeatures} />\r\n                    </Column>\r\n\r\n                    <Export enabled />\r\n                </DataGrid>\r\n            </Segment>\r\n\r\n            <Modal\r\n                onClose={onHideFeatures}\r\n                open={showFeatures}\r\n                content={<PackagesFeatures id={row[0]} features={features} onSave={onHideFeatures} readOnly />}\r\n                closeIcon\r\n                header={t('Features')}\r\n                size='large'\r\n                centered\r\n                closeOnDimmerClick={false}\r\n            />\r\n        </Segment>\r\n    );\r\n};\r\n\r\n\r\nconst DS = [{\r\n    store: featuresDataLookup,\r\n    name: 'features'\r\n}];\r\n\r\nexport default RequireFetchData(Subscriptions, DS);"],"sourceRoot":""}