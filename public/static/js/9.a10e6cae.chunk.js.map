{"version":3,"sources":["pages/admin section/packages/Packages.js","helpers/stringShorten.js","../node_modules/semantic-ui-react/dist/es/lib/hooks/useIsomorphicLayoutEffect.js","../node_modules/semantic-ui-react/dist/es/lib/hooks/useClassNamesOnNode.js","helpers/datagridExporter.js","pages/admin section/packages/PackagesFeatures.js","../node_modules/semantic-ui-react/dist/es/modules/Modal/ModalActions.js","../node_modules/semantic-ui-react/dist/es/modules/Modal/ModalContent.js","../node_modules/semantic-ui-react/dist/es/modules/Modal/ModalDescription.js","../node_modules/semantic-ui-react/dist/es/modules/Modal/ModalDimmer.js","../node_modules/semantic-ui-react/dist/es/modules/Modal/ModalHeader.js","../node_modules/semantic-ui-react/dist/es/modules/Modal/utils/index.js","../node_modules/semantic-ui-react/dist/es/modules/Modal/Modal.js"],"names":["DS","store","featuresDataLookup","name","RequireFetchData","PERMISSIONS","features","t","useTranslation","useState","showFeatures","setShowFeatures","row","setRow","onHideFeatures","Segment","basic","title","dataSource","packagesDataGrid","showBorders","columnHidingEnabled","wordWrapEnabled","columnAutoWidth","repaintChangesOnly","remoteOperations","loadPanel","indicatorSrc","LoadingGifImage","onExporting","datagridExporter","grouping","mode","autoExpandAll","visible","useIcons","allowUpdating","UPDATE","allowDeleting","DELETE","allowAdding","ADD","refreshMode","showTitle","resizeEnabled","my","at","of","window","itemType","colCount","colSpan","isRequired","dataField","editorType","editorOptions","height","width","allowSorting","allowFiltering","caption","cellRender","value","Image","src","fluid","editCellComponent","ProfileImageUploader","str","num","n","length","slice","stringShorten","format","type","precision","calculateDisplayValue","validitySeconds","dataType","calculateFilterExpression","filterValue","selectedFilterOperation","calculateCellValue","hint","icon","onClick","e","data","idSubscriptionPackage","enabled","EXPORT","Modal","onClose","open","content","id","onSave","closeIcon","header","size","centered","closeOnDimmerClick","useIsomorphicLayoutEffect","isBrowser","React","useLayoutEffect","useEffect","CLASS_NAME_DELITIMITER","prevClassNames","Map","handleClassNamesChange","node","classNameRefs","currentClassNames","classNames","forEach","classNameRef","current","split","className","push","filter","i","array","indexOf","computeClassNames","_computeClassNamesDif","computeClassNamesDifference","get","forAdd","forRemoval","classList","add","remove","set","nodeRegistry","_this","this","nodes","has","Set","del","delete","emit","callback","useClassNamesOnNode","useRef","isMounted","element","isRefObject","htmlColumns","objectColumns","workbook","ExcelJS","Workbook","worksheet","addWorksheet","i18next","exportDataGrid","component","customizeCell","gridCell","excelCell","rowType","objCol","find","c","column","map","v","d","fieldName1","fieldName2","displayName","join","htmlToText","wordwrap","Date","toDateString","fill","pattern","fgColor","argb","font","italic","then","xlsx","writeBuffer","buffer","saveAs","Blob","cancel","memo","withTranslation","readOnly","fets","setFets","values","setValues","loading","setLoading","error","setError","getPackageFeatures","request","newFets","j","idSubscriptionFeature","subscriptionFeatureId","featureValue","f","postPackageFeatures","post","s","subscriptionPackageId","keyExpr","hoverStateEnabled","selectedRowKeys","onSelectionChanged","selectedRowsData","allowEditing","textAlign","positive","ModalActions","_Component","_len","arguments","args","Array","_key","call","apply","concat","handleButtonOverrides","predefinedProps","buttonProps","_invoke","props","_inheritsLoose","prototype","render","_this2","_this$props","actions","children","classes","cx","rest","getUnhandledProps","ElementType","getElementType","childrenUtils","isNil","createElement","_extends","_map","action","Button","create","overrideProps","Component","ModalContent","image","scrolling","useKeyOnly","handledProps","propTypes","createShorthandFactory","ModalDescription","ModalDimmer","blurring","inverted","mountNode","ref","bodyClasses","style","setProperty","Ref","innerRef","ModalHeader","canFit","modalRect","scrollHeight","contextHeight","innerHeight","getLegacyStyles","isFitted","marginTop","marginLeft","isLegacy","ActiveXObject","legacy","createRef","dimmerRef","latestDocumentMouseDownEvent","getMountNode","document","body","handleActionsOverrides","onActionClick","actionProps","handleClose","setState","handleDocumentMouseDown","handleDocumentClick","currentDocumentMouseDownEvent","doesNodeContainClick","handleIconOverrides","handleOpen","handlePortalMount","eventPool","setPositionAndClassNames","eventStack","sub","pool","target","handlePortalUnmount","cancelAnimationFrame","animationRequestId","unsub","newState","rect","getBoundingClientRect","legacyStyles","shallowEqual","state","_isEmpty","requestAnimationFrame","renderContent","_this$state","closeIconName","closeIconJSX","Icon","Fragment","autoGenerateKey","_proto","componentWillUnmount","_this$props2","closeOnDocumentClick","dimmer","trigger","_this$state2","isValidElement","unhandled","portalPropNames","Portal","_reduce","acc","val","key","_includes","portalProps","_pick","onMount","onOpen","onUnmount","_isPlainObject","defaultProps","autoControlledProps","Actions","Content","Description","Dimmer","Header"],"mappings":"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","file":"static/js/9.a10e6cae.chunk.js","sourcesContent":["import React, { useState } from 'react';\r\nimport { Image, Modal, Segment } from 'semantic-ui-react';\r\nimport DataGrid, { Button, Column, Editing, Export, FilterPanel, FilterRow, Form, Grouping, Popup, Position, RemoteOperations, Scrolling, SearchPanel, Sorting } from 'devextreme-react/data-grid';\r\nimport { Item } from 'devextreme-react/ui/form';\r\nimport 'devextreme-react/ui/text-area';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { PageHeader, ProfileImageUploader } from '../../../components';\r\nimport PackageFeatures from './PackagesFeatures';\r\nimport { packagesDataGrid, featuresDataLookup } from '../../../Data Stores';\r\nimport LoadingGifImage from '../../../res/images/loading.gif';\r\nimport stringShorten from '../../../helpers/stringShorten';\r\nimport datagridExporter from '../../../helpers/datagridExporter';\r\nimport { RequireFetchData } from '../../../middlewares/HOC';\r\n\r\n\r\nconst Packages = ({ PERMISSIONS, features }) => {\r\n\r\n    const { t } = useTranslation();\r\n    const [showFeatures, setShowFeatures] = useState(false);\r\n    const [row, setRow] = useState([]);\r\n\r\n    const onShowFeatures = (e) => {\r\n        setRow([e.row.data.idSubscriptionPackage]);\r\n        setShowFeatures(true);\r\n    };\r\n\r\n    const onHideFeatures = () => {\r\n        setShowFeatures(false);\r\n        setRow([]);\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <Segment basic>\r\n                <PageHeader title={t('Packages')} />\r\n                <Segment basic>\r\n                    <DataGrid\r\n                        dataSource={packagesDataGrid}\r\n                        showBorders\r\n                        columnHidingEnabled\r\n                        wordWrapEnabled\r\n                        columnAutoWidth\r\n                        repaintChangesOnly\r\n                        remoteOperations\r\n                        loadPanel={{ indicatorSrc: LoadingGifImage }}\r\n                        onExporting={datagridExporter}\r\n                    >\r\n                        <RemoteOperations grouping />\r\n                        <Sorting mode='multiple' />\r\n                        <Grouping autoExpandAll={false} />\r\n                        <FilterRow visible />\r\n                        <FilterPanel visible />\r\n                        <Scrolling mode=\"virtual\" />\r\n                        <SearchPanel visible />\r\n                        <Editing\r\n                            mode='popup'\r\n                            useIcons\r\n                            allowUpdating={PERMISSIONS.UPDATE}\r\n                            allowDeleting={PERMISSIONS.DELETE}\r\n                            allowAdding={PERMISSIONS.ADD}\r\n                            refreshMode='reshape'\r\n                        >\r\n                            <Popup title={t('Package')} showTitle resizeEnabled >\r\n                                <Position my=\"middle\" at=\"middle\" of={window} />\r\n                            </Popup>\r\n                            <Form>\r\n                                <Item itemType=\"group\" colCount={2} colSpan={2}>\r\n                                    <Item isRequired dataField=\"nameEn\" />\r\n                                    <Item isRequired dataField='priceUsd' />\r\n                                    <Item isRequired dataField='validitySeconds' />\r\n                                    <Item dataField='isActive' />\r\n                                    <Item\r\n                                        dataField=\"descriptionEn\"\r\n                                        editorType=\"dxTextArea\"\r\n                                        colSpan={2}\r\n                                        editorOptions={{ height: 100 }} />\r\n\r\n                                    <Item dataField='imgUrl' colSpan={2} />\r\n                                </Item>\r\n                            </Form>\r\n                        </Editing>\r\n\r\n                        <Column dataField=\"imgUrl\"\r\n                            width={100}\r\n                            allowSorting={false}\r\n                            allowFiltering={false}\r\n                            caption={t('Photo')}\r\n                            cellRender={({ value }) => <Image src={value} fluid />}\r\n                            editCellComponent={ProfileImageUploader}\r\n                        />\r\n                        <Column dataField=\"nameEn\" caption={t('Name')} />\r\n                        <Column dataField=\"descriptionEn\" caption={t('Description')} cellRender={({ value }) => stringShorten(value)} />\r\n                        <Column dataField=\"priceUsd\" caption={t('Price')} format={{ type: \"currency\", precision: 2 }} />\r\n                        <Column calculateDisplayValue={({ validitySeconds }) => `${validitySeconds / 60 / 60 / 24} ${t('Days')}`} dataType='number' dataField='validitySeconds' calculateFilterExpression={(filterValue, selectedFilterOperation) => [\"validitySeconds\", selectedFilterOperation || '=', filterValue * 60 * 60 * 24]} calculateCellValue={({ validitySeconds }) => validitySeconds / 60 / 60 / 24} caption={t('Validity')} />\r\n                        {/* <Column dataField=\"expirAt\" dataType=\"date\" caption={t('EndAt')} /> */}\r\n                        <Column\r\n                            caption={t('Active')}\r\n                            dataType=\"boolean\"\r\n                            dataField='isActive'\r\n                        />\r\n                        <Column type=\"buttons\" caption={t('Actions')}>\r\n                            <Button name=\"edit\" />\r\n                            <Button name=\"delete\" />\r\n                            {PERMISSIONS.UPDATE && <Button hint={t('Features')} icon=\"bulletlist\" onClick={onShowFeatures} />}\r\n                        </Column>\r\n\r\n                        <Export enabled={PERMISSIONS.EXPORT} />\r\n                    </DataGrid>\r\n                </Segment>\r\n            </Segment>\r\n\r\n            <Modal\r\n                onClose={onHideFeatures}\r\n                open={showFeatures}\r\n                content={<PackageFeatures id={row[0]} features={features} onSave={onHideFeatures} />}\r\n                closeIcon\r\n                header={t('Features')}\r\n                size='large'\r\n                centered\r\n                closeOnDimmerClick={false}\r\n            />\r\n\r\n        </>\r\n\r\n    );\r\n};\r\n\r\nconst DS = [{\r\n    store: featuresDataLookup,\r\n    name: 'features'\r\n}];\r\n\r\nexport default RequireFetchData(Packages, DS);","export default (str, num) => {\r\n    if (!str) return null;\r\n    const n = num || 70;\r\n    if (str.length <= n) {\r\n        return str\r\n    }\r\n    return str.slice(0, n) + '...'\r\n};\r\n","import React from 'react';\nimport isBrowser from '../isBrowser'; // useLayoutEffect() produces a warning with SSR rendering\n// https://medium.com/@alexandereardon/uselayouteffect-and-ssr-192986cdcf7a\n\nvar useIsomorphicLayoutEffect = isBrowser() && process.env.NODE_ENV !== 'test' ? React.useLayoutEffect : React.useEffect;\nexport default useIsomorphicLayoutEffect;","import { isRefObject } from '@fluentui/react-component-ref';\nimport React from 'react';\nimport useIsomorphicLayoutEffect from './useIsomorphicLayoutEffect';\nvar CLASS_NAME_DELITIMITER = /\\s+/;\n/**\n * Accepts a set of ref objects that contain classnames as a string and returns an array of unique\n * classNames.\n *\n * @param {Set<React.RefObject>|undefined} classNameRefs\n * @returns String[]\n */\n\nexport function computeClassNames(classNameRefs) {\n  var classNames = [];\n\n  if (classNameRefs) {\n    classNameRefs.forEach(function (classNameRef) {\n      if (typeof classNameRef.current === 'string') {\n        var classNamesForRef = classNameRef.current.split(CLASS_NAME_DELITIMITER);\n        classNamesForRef.forEach(function (className) {\n          classNames.push(className);\n        });\n      }\n    });\n    return classNames.filter(function (className, i, array) {\n      return className.length > 0 && array.indexOf(className) === i;\n    });\n  }\n\n  return [];\n}\n/**\n * Computes classnames that should be removed and added to a node based on input differences.\n *\n * @param {String[]} prevClassNames\n * @param {String[]} currentClassNames\n */\n\nexport function computeClassNamesDifference(prevClassNames, currentClassNames) {\n  return [currentClassNames.filter(function (className) {\n    return prevClassNames.indexOf(className) === -1;\n  }), prevClassNames.filter(function (className) {\n    return currentClassNames.indexOf(className) === -1;\n  })];\n}\nvar prevClassNames = new Map();\n/**\n * @param {HTMLElement} node\n * @param {Set<React.RefObject>|undefined} classNameRefs\n */\n\nexport var handleClassNamesChange = function handleClassNamesChange(node, classNameRefs) {\n  var currentClassNames = computeClassNames(classNameRefs);\n\n  var _computeClassNamesDif = computeClassNamesDifference(prevClassNames.get(node) || [], currentClassNames),\n      forAdd = _computeClassNamesDif[0],\n      forRemoval = _computeClassNamesDif[1];\n\n  if (node) {\n    forAdd.forEach(function (className) {\n      return node.classList.add(className);\n    });\n    forRemoval.forEach(function (className) {\n      return node.classList.remove(className);\n    });\n  }\n\n  prevClassNames.set(node, currentClassNames);\n};\nexport var NodeRegistry = function NodeRegistry() {\n  var _this = this;\n\n  this.add = function (node, classNameRef) {\n    if (_this.nodes.has(node)) {\n      var _set = _this.nodes.get(node);\n\n      _set.add(classNameRef);\n\n      return;\n    } // IE11 does not support constructor params\n\n\n    var set = new Set();\n    set.add(classNameRef);\n\n    _this.nodes.set(node, set);\n  };\n\n  this.del = function (node, classNameRef) {\n    if (!_this.nodes.has(node)) {\n      return;\n    }\n\n    var set = _this.nodes.get(node);\n\n    if (set.size === 1) {\n      _this.nodes.delete(node);\n\n      return;\n    }\n\n    set.delete(classNameRef);\n  };\n\n  this.emit = function (node, callback) {\n    callback(node, _this.nodes.get(node));\n  };\n\n  this.nodes = new Map();\n};\nvar nodeRegistry = new NodeRegistry();\n/**\n * A React hooks that allows to manage classNames on a DOM node in declarative manner. Accepts\n * a HTML element or React ref objects with it.\n *\n * @param {HTMLElement|React.RefObject} node\n * @param {String} className\n */\n\nexport default function useClassNamesOnNode(node, className) {\n  var classNameRef = React.useRef();\n  var isMounted = React.useRef(false);\n  useIsomorphicLayoutEffect(function () {\n    classNameRef.current = className;\n\n    if (isMounted.current) {\n      var element = isRefObject(node) ? node.current : node;\n      nodeRegistry.emit(element, handleClassNamesChange);\n    }\n\n    isMounted.current = true;\n  }, [className]);\n  useIsomorphicLayoutEffect(function () {\n    var element = isRefObject(node) ? node.current : node;\n    nodeRegistry.add(element, classNameRef);\n    nodeRegistry.emit(element, handleClassNamesChange);\n    return function () {\n      nodeRegistry.del(element, classNameRef);\n      nodeRegistry.emit(element, handleClassNamesChange);\n    };\n  }, [node]);\n}","import { exportDataGrid } from 'devextreme/exporter/exceljs/export_data_grid';\r\nimport { htmlToText } from 'html-to-text';\r\nimport i18next from 'i18next';\r\nimport saveAs from 'file-saver';\r\nimport ExcelJS from 'exceljs';\r\n\r\nexport default (e, htmlColumns = [], objectColumns = []) => {\r\n    const workbook = new ExcelJS.Workbook();\r\n    const worksheet = workbook.addWorksheet(i18next.t('DataGrid'));\r\n\r\n    exportDataGrid({\r\n        component: e.component,\r\n        worksheet: worksheet,\r\n        customizeCell: ({ gridCell, excelCell }) => {\r\n\r\n            if (gridCell.rowType === 'data') {\r\n                const objCol = objectColumns.find(c => gridCell.column.dataField === c.name);\r\n                if (objCol && gridCell.value) {\r\n                    excelCell.value = gridCell.value.map(v => {\r\n                        const res = objCol.data.find(d => d[objCol.fieldName1] === v[objCol.fieldName2]);\r\n                        return res[objCol.displayName];\r\n                    }).join();\r\n                }\r\n\r\n                if (htmlColumns.find(c => gridCell.column.dataField === c)) {\r\n                    excelCell.value = htmlToText(gridCell.value, { wordwrap: null });\r\n                }\r\n\r\n                if (gridCell.column.dataField === 'creatAt') {\r\n                    excelCell.value = new Date(gridCell.value).toDateString();\r\n                }\r\n                if (gridCell.column.dataField === 'isActive') {\r\n                    excelCell.value = gridCell.value ? i18next.t('YES') : i18next.t('NO');\r\n                }\r\n            }\r\n            if (gridCell.rowType === 'group') {\r\n                excelCell.fill = { type: 'pattern', pattern: 'solid', fgColor: { argb: 'BEDFE6' } };\r\n            }\r\n            if (gridCell.rowType === 'totalFooter' && excelCell.value) {\r\n                excelCell.font.italic = true;\r\n            }\r\n        }\r\n    }).then(() => {\r\n        workbook.xlsx.writeBuffer().then((buffer) => {\r\n            saveAs(new Blob([buffer], { type: 'application/octet-stream' }), 'DataGrid.xlsx');\r\n        });\r\n    });\r\n    e.cancel = true;\r\n};","import React, { useEffect, useState, memo } from 'react';\r\nimport { Button, Segment } from 'semantic-ui-react';\r\nimport { withTranslation } from 'react-i18next';\r\nimport DataGrid, { Column, Selection, Editing } from 'devextreme-react/data-grid';\r\nimport request from '../../../api';\r\nimport { ErrorSegment } from '../../../components';\r\n\r\nimport LoadingGifImage from '../../../res/images/loading.gif';\r\n\r\n\r\nconst PackageFeatures = ({ id, features, onSave, t, readOnly }) => {\r\n    const [fets, setFets] = useState(features);\r\n    const [values, setValues] = useState([]);\r\n    const [loading, setLoading] = useState(false);\r\n    const [error, setError] = useState('');\r\n\r\n    const getPackageFeatures = async () => {\r\n        try {\r\n            const { data: { data } } = await request.get(`/admin/subscription/package/${id}/features`);\r\n            const newFets = [...fets];\r\n            for (let i = 0; i < fets.length; i++) {\r\n                for (let j = 0; j < data.length; j++) {\r\n                    if (fets[i].idSubscriptionFeature === data[j].subscriptionFeatureId)\r\n                        newFets[i].featureValue = data[j].featureValue;\r\n                }\r\n            }\r\n            setFets(newFets);\r\n            setValues(data.map(f => ({ ...f, idSubscriptionFeature: f.subscriptionFeatureId })));\r\n        } catch (err) {\r\n            setError(err);\r\n        }\r\n    };\r\n\r\n    const postPackageFeatures = async () => {\r\n        try {\r\n            setLoading(true);\r\n            await request.post('/admin/subscription/package/features/reset', { features: values.filter(s => s.featureValue).map(f => ({ ...f, subscriptionFeatureId: f.idSubscriptionFeature })), subscriptionPackageId: id });\r\n        } catch (err) {\r\n            setError(err);\r\n        } finally {\r\n            setLoading(false);\r\n            if (onSave) onSave();\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        getPackageFeatures();\r\n        return () => setValues([]);\r\n        //eslint-disable-next-line\r\n    }, []);\r\n\r\n    if (error) return <ErrorSegment />;\r\n\r\n    return (\r\n        <Segment basic>\r\n            <DataGrid\r\n                dataSource={fets}\r\n                keyExpr=\"idSubscriptionFeature\"\r\n                wordWrapEnabled\r\n                columnAutoWidth\r\n                showBorders\r\n                columnHidingEnabled\r\n                hoverStateEnabled\r\n                loadPanel={{ indicatorSrc: LoadingGifImage }}\r\n                selectedRowKeys={values.map(f => f.idSubscriptionFeature)}\r\n                onSelectionChanged={(e) => setValues((e.selectedRowsData.length && e.selectedRowsData.filter(s => s.featureValue)) || [])}\r\n            >\r\n                {!readOnly && <Editing\r\n                    mode='batch'\r\n                    useIcons\r\n                    allowUpdating\r\n                    refreshMode='reshape'\r\n                />}\r\n\r\n                {!readOnly && <Selection mode=\"multiple\" />}\r\n                <Column dataField=\"nameEn\" allowEditing={false} caption={t('Time')} />\r\n                <Column dataField=\"descriptionEn\" allowEditing={false} caption={t('Description')} />\r\n                <Column dataField=\"featureValue\" dataType='number' caption={t('Value')} />\r\n            </DataGrid>\r\n\r\n            {!readOnly && <Segment basic textAlign='right'>\r\n                <Button onClick={postPackageFeatures} positive loading={loading}>{t('Save')}</Button>\r\n            </Segment>}\r\n        </Segment>\r\n    );\r\n};\r\n\r\nexport default memo(withTranslation()(PackageFeatures));\r\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport _map from \"lodash-es/map\";\nimport _invoke from \"lodash-es/invoke\";\nimport cx from 'clsx';\nimport PropTypes from 'prop-types';\nimport React, { Component } from 'react';\nimport { childrenUtils, createShorthandFactory, customPropTypes, getElementType, getUnhandledProps } from '../../lib';\nimport Button from '../../elements/Button';\n/**\n * A modal can contain a row of actions.\n */\n\nvar ModalActions = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(ModalActions, _Component);\n\n  function ModalActions() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _Component.call.apply(_Component, [this].concat(args)) || this;\n\n    _this.handleButtonOverrides = function (predefinedProps) {\n      return {\n        onClick: function onClick(e, buttonProps) {\n          _invoke(predefinedProps, 'onClick', e, buttonProps);\n\n          _invoke(_this.props, 'onActionClick', e, buttonProps);\n        }\n      };\n    };\n\n    return _this;\n  }\n\n  var _proto = ModalActions.prototype;\n\n  _proto.render = function render() {\n    var _this2 = this;\n\n    var _this$props = this.props,\n        actions = _this$props.actions,\n        children = _this$props.children,\n        className = _this$props.className,\n        content = _this$props.content;\n    var classes = cx('actions', className);\n    var rest = getUnhandledProps(ModalActions, this.props);\n    var ElementType = getElementType(ModalActions, this.props);\n\n    if (!childrenUtils.isNil(children)) {\n      return /*#__PURE__*/React.createElement(ElementType, _extends({}, rest, {\n        className: classes\n      }), children);\n    }\n\n    if (!childrenUtils.isNil(content)) {\n      return /*#__PURE__*/React.createElement(ElementType, _extends({}, rest, {\n        className: classes\n      }), content);\n    }\n\n    return /*#__PURE__*/React.createElement(ElementType, _extends({}, rest, {\n      className: classes\n    }), _map(actions, function (action) {\n      return Button.create(action, {\n        overrideProps: _this2.handleButtonOverrides\n      });\n    }));\n  };\n\n  return ModalActions;\n}(Component);\n\nModalActions.handledProps = [\"actions\", \"as\", \"children\", \"className\", \"content\", \"onActionClick\"];\nexport { ModalActions as default };\nModalActions.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  /** An element type to render as (string or function). */\n  as: PropTypes.elementType,\n\n  /** Array of shorthand buttons. */\n  actions: customPropTypes.collectionShorthand,\n\n  /** Primary content. */\n  children: PropTypes.node,\n\n  /** Additional classes. */\n  className: PropTypes.string,\n\n  /** Shorthand for primary content. */\n  content: customPropTypes.contentShorthand,\n\n  /**\n   * Action onClick handler when using shorthand `actions`.\n   *\n   * @param {SyntheticEvent} event - React's original SyntheticEvent.\n   * @param {object} data - All props from the clicked action.\n   */\n  onActionClick: customPropTypes.every([customPropTypes.disallow(['children']), PropTypes.func])\n} : {};\nModalActions.create = createShorthandFactory(ModalActions, function (actions) {\n  return {\n    actions: actions\n  };\n});","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport cx from 'clsx';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { childrenUtils, createShorthandFactory, customPropTypes, getElementType, getUnhandledProps, useKeyOnly } from '../../lib';\n/**\n * A modal can contain content.\n */\n\nfunction ModalContent(props) {\n  var children = props.children,\n      className = props.className,\n      content = props.content,\n      image = props.image,\n      scrolling = props.scrolling;\n  var classes = cx(className, useKeyOnly(image, 'image'), useKeyOnly(scrolling, 'scrolling'), 'content');\n  var rest = getUnhandledProps(ModalContent, props);\n  var ElementType = getElementType(ModalContent, props);\n  return /*#__PURE__*/React.createElement(ElementType, _extends({}, rest, {\n    className: classes\n  }), childrenUtils.isNil(children) ? content : children);\n}\n\nModalContent.handledProps = [\"as\", \"children\", \"className\", \"content\", \"image\", \"scrolling\"];\nModalContent.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  /** An element type to render as (string or function). */\n  as: PropTypes.elementType,\n\n  /** Primary content. */\n  children: PropTypes.node,\n\n  /** Additional classes. */\n  className: PropTypes.string,\n\n  /** Shorthand for primary content. */\n  content: customPropTypes.contentShorthand,\n\n  /** A modal can contain image content. */\n  image: PropTypes.bool,\n\n  /** A modal can use the entire size of the screen. */\n  scrolling: PropTypes.bool\n} : {};\nModalContent.create = createShorthandFactory(ModalContent, function (content) {\n  return {\n    content: content\n  };\n});\nexport default ModalContent;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport cx from 'clsx';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { childrenUtils, customPropTypes, getElementType, getUnhandledProps } from '../../lib';\n/**\n * A modal can contain a description with one or more paragraphs.\n */\n\nfunction ModalDescription(props) {\n  var children = props.children,\n      className = props.className,\n      content = props.content;\n  var classes = cx('description', className);\n  var rest = getUnhandledProps(ModalDescription, props);\n  var ElementType = getElementType(ModalDescription, props);\n  return /*#__PURE__*/React.createElement(ElementType, _extends({}, rest, {\n    className: classes\n  }), childrenUtils.isNil(children) ? content : children);\n}\n\nModalDescription.handledProps = [\"as\", \"children\", \"className\", \"content\"];\nModalDescription.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  /** An element type to render as (string or function). */\n  as: PropTypes.elementType,\n\n  /** Primary content. */\n  children: PropTypes.node,\n\n  /** Additional classes. */\n  className: PropTypes.string,\n\n  /** Shorthand for primary content. */\n  content: customPropTypes.contentShorthand\n} : {};\nexport default ModalDescription;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { Ref } from '@fluentui/react-component-ref';\nimport cx from 'clsx';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { childrenUtils, createShorthandFactory, customPropTypes, getElementType, getUnhandledProps, useClassNamesOnNode, useKeyOnly } from '../../lib';\n/**\n * A modal has a dimmer.\n */\n\nfunction ModalDimmer(props) {\n  var blurring = props.blurring,\n      children = props.children,\n      className = props.className,\n      centered = props.centered,\n      content = props.content,\n      inverted = props.inverted,\n      mountNode = props.mountNode,\n      scrolling = props.scrolling;\n  var ref = React.useRef();\n  var classes = cx('ui', useKeyOnly(inverted, 'inverted'), useKeyOnly(!centered, 'top aligned'), 'page modals dimmer transition visible active', className);\n  var bodyClasses = cx('dimmable dimmed', useKeyOnly(blurring, 'blurring'), useKeyOnly(scrolling, 'scrolling'));\n  var rest = getUnhandledProps(ModalDimmer, props);\n  var ElementType = getElementType(ModalDimmer, props);\n  useClassNamesOnNode(mountNode, bodyClasses);\n  React.useEffect(function () {\n    if (ref.current && ref.current.style) {\n      ref.current.style.setProperty('display', 'flex', 'important');\n    }\n  }, []);\n  return /*#__PURE__*/React.createElement(Ref, {\n    innerRef: ref\n  }, /*#__PURE__*/React.createElement(ElementType, _extends({}, rest, {\n    className: classes\n  }), childrenUtils.isNil(children) ? content : children));\n}\n\nModalDimmer.handledProps = [\"as\", \"blurring\", \"centered\", \"children\", \"className\", \"content\", \"inverted\", \"mountNode\", \"scrolling\"];\nModalDimmer.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  /** An element type to render as (string or function). */\n  as: PropTypes.elementType,\n\n  /** A dimmer can be blurred. */\n  blurring: PropTypes.bool,\n\n  /** Primary content. */\n  children: PropTypes.node,\n\n  /** Additional classes. */\n  className: PropTypes.string,\n\n  /** A dimmer can center its contents in the viewport. */\n  centered: PropTypes.bool,\n\n  /** Shorthand for primary content. */\n  content: customPropTypes.contentShorthand,\n\n  /** A dimmer can be inverted. */\n  inverted: PropTypes.bool,\n\n  /** The node where the modal should mount. Defaults to document.body. */\n  mountNode: PropTypes.any,\n\n  /** A dimmer can make body scrollable. */\n  scrolling: PropTypes.bool\n} : {};\nModalDimmer.create = createShorthandFactory(ModalDimmer, function (content) {\n  return {\n    content: content\n  };\n});\nexport default ModalDimmer;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport cx from 'clsx';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { childrenUtils, createShorthandFactory, customPropTypes, getElementType, getUnhandledProps } from '../../lib';\n/**\n * A modal can have a header.\n */\n\nfunction ModalHeader(props) {\n  var children = props.children,\n      className = props.className,\n      content = props.content;\n  var classes = cx('header', className);\n  var rest = getUnhandledProps(ModalHeader, props);\n  var ElementType = getElementType(ModalHeader, props);\n  return /*#__PURE__*/React.createElement(ElementType, _extends({}, rest, {\n    className: classes\n  }), childrenUtils.isNil(children) ? content : children);\n}\n\nModalHeader.handledProps = [\"as\", \"children\", \"className\", \"content\"];\nModalHeader.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  /** An element type to render as (string or function). */\n  as: PropTypes.elementType,\n\n  /** Primary content. */\n  children: PropTypes.node,\n\n  /** Additional classes. */\n  className: PropTypes.string,\n\n  /** Shorthand for primary content. */\n  content: customPropTypes.contentShorthand\n} : {};\nModalHeader.create = createShorthandFactory(ModalHeader, function (content) {\n  return {\n    content: content\n  };\n});\nexport default ModalHeader;","// https://github.com/Semantic-Org/Semantic-UI/blob/2.4.1/src/definitions/modules/modal.js#L956\nvar OFFSET = 0; // https://github.com/Semantic-Org/Semantic-UI/blob/2.4.1/src/definitions/modules/modal.js#L990\n\nvar PADDING = 50;\n/**\n * Ensures that modal can fit viewport without scroll.\n *\n * @param modalRect {DOMRect}\n *\n * @see https://github.com/Semantic-Org/Semantic-UI/blob/2.4.1/src/definitions/modules/modal.js#L608\n */\n\nexport var canFit = function canFit(modalRect) {\n  // original: scrollHeight = $module.prop('scrollHeight'),\n  // is replaced by .height because scrollHeight provides integer which produces glitches\n  // https://github.com/Semantic-Org/Semantic-UI-React/issues/2221\n  var scrollHeight = modalRect.height + OFFSET; // $module.outerHeight() + settings.offset\n\n  var height = modalRect.height + OFFSET; // original: $(window).height()\n\n  var contextHeight = window.innerHeight;\n  var verticalCenter = contextHeight / 2;\n  var topOffset = -(height / 2); // padding with edge of page\n\n  var paddingHeight = PADDING;\n  var startPosition = verticalCenter + topOffset; // 0\n  // original: scrollHeight > height\n  //     ? startPosition + scrollHeight + paddingHeight < contextHeight\n  //     : height + paddingHeight * 2 < contextHeight\n\n  return startPosition + scrollHeight + paddingHeight < contextHeight;\n};\n/**\n * Creates legacy styles for IE11.\n *\n * @param isFitted {Boolean}\n * @param centered {Boolean}\n * @param modalRect {DOMRect}\n *\n * @see https://github.com/Semantic-Org/Semantic-UI/blob/2.4.1/src/definitions/modules/modal.js#L718\n */\n\nexport var getLegacyStyles = function getLegacyStyles(isFitted, centered, modalRect) {\n  var marginTop = centered && isFitted ? -(modalRect.height / 2) : 0;\n  var marginLeft = -(modalRect.width / 2);\n  return {\n    marginLeft: marginLeft,\n    marginTop: marginTop\n  };\n}; // https://github.com/Semantic-Org/Semantic-UI/blob/2.4.1/src/definitions/modules/modal.js#L631\n\n/* istanbul ignore next */\n\nexport var isLegacy = function isLegacy() {\n  return !window.ActiveXObject && 'ActiveXObject' in window;\n};","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport _isPlainObject from \"lodash-es/isPlainObject\";\nimport _pick from \"lodash-es/pick\";\nimport _includes from \"lodash-es/includes\";\nimport _reduce from \"lodash-es/reduce\";\nimport _isEmpty from \"lodash-es/isEmpty\";\nimport _invoke from \"lodash-es/invoke\";\nimport { Ref } from '@fluentui/react-component-ref';\nimport cx from 'clsx';\nimport PropTypes from 'prop-types';\nimport React, { createRef, isValidElement } from 'react';\nimport shallowEqual from 'shallowequal';\nimport { ModernAutoControlledComponent as Component, childrenUtils, customPropTypes, doesNodeContainClick, eventStack, getElementType, getUnhandledProps, isBrowser, useKeyOnly } from '../../lib';\nimport Icon from '../../elements/Icon';\nimport Portal from '../../addons/Portal';\nimport ModalActions from './ModalActions';\nimport ModalContent from './ModalContent';\nimport ModalDescription from './ModalDescription';\nimport ModalDimmer from './ModalDimmer';\nimport ModalHeader from './ModalHeader';\nimport { canFit, getLegacyStyles, isLegacy } from './utils';\n\n/**\n * A modal displays content that temporarily blocks interactions with the main view of a site.\n * @see Confirm\n * @see Portal\n */\nvar Modal = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(Modal, _Component);\n\n  function Modal() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _Component.call.apply(_Component, [this].concat(args)) || this;\n    _this.legacy = isBrowser() && isLegacy();\n    _this.ref = /*#__PURE__*/createRef();\n    _this.dimmerRef = /*#__PURE__*/createRef();\n    _this.latestDocumentMouseDownEvent = null;\n\n    _this.getMountNode = function () {\n      return isBrowser() ? _this.props.mountNode || document.body : null;\n    };\n\n    _this.handleActionsOverrides = function (predefinedProps) {\n      return {\n        onActionClick: function onActionClick(e, actionProps) {\n          _invoke(predefinedProps, 'onActionClick', e, actionProps);\n\n          _invoke(_this.props, 'onActionClick', e, _this.props);\n\n          _this.handleClose(e);\n        }\n      };\n    };\n\n    _this.handleClose = function (e) {\n      _this.setState({\n        open: false\n      });\n\n      _invoke(_this.props, 'onClose', e, _extends({}, _this.props, {\n        open: false\n      }));\n    };\n\n    _this.handleDocumentMouseDown = function (e) {\n      _this.latestDocumentMouseDownEvent = e;\n    };\n\n    _this.handleDocumentClick = function (e) {\n      var closeOnDimmerClick = _this.props.closeOnDimmerClick;\n      var currentDocumentMouseDownEvent = _this.latestDocumentMouseDownEvent;\n      _this.latestDocumentMouseDownEvent = null;\n      if (!closeOnDimmerClick || doesNodeContainClick(_this.ref.current, currentDocumentMouseDownEvent) || doesNodeContainClick(_this.ref.current, e)) return;\n\n      _this.setState({\n        open: false\n      });\n\n      _invoke(_this.props, 'onClose', e, _extends({}, _this.props, {\n        open: false\n      }));\n    };\n\n    _this.handleIconOverrides = function (predefinedProps) {\n      return {\n        onClick: function onClick(e) {\n          _invoke(predefinedProps, 'onClick', e);\n\n          _this.handleClose(e);\n        }\n      };\n    };\n\n    _this.handleOpen = function (e) {\n      _invoke(_this.props, 'onOpen', e, _extends({}, _this.props, {\n        open: true\n      }));\n\n      _this.setState({\n        open: true\n      });\n    };\n\n    _this.handlePortalMount = function (e) {\n      var eventPool = _this.props.eventPool;\n\n      _this.setState({\n        scrolling: false\n      });\n\n      _this.setPositionAndClassNames();\n\n      eventStack.sub('mousedown', _this.handleDocumentMouseDown, {\n        pool: eventPool,\n        target: _this.dimmerRef.current\n      });\n      eventStack.sub('click', _this.handleDocumentClick, {\n        pool: eventPool,\n        target: _this.dimmerRef.current\n      });\n\n      _invoke(_this.props, 'onMount', e, _this.props);\n    };\n\n    _this.handlePortalUnmount = function (e) {\n      var eventPool = _this.props.eventPool;\n      cancelAnimationFrame(_this.animationRequestId);\n      eventStack.unsub('mousedown', _this.handleDocumentMouseDown, {\n        pool: eventPool,\n        target: _this.dimmerRef.current\n      });\n      eventStack.unsub('click', _this.handleDocumentClick, {\n        pool: eventPool,\n        target: _this.dimmerRef.current\n      });\n\n      _invoke(_this.props, 'onUnmount', e, _this.props);\n    };\n\n    _this.setPositionAndClassNames = function () {\n      var centered = _this.props.centered;\n      var scrolling;\n      var newState = {};\n\n      if (_this.ref.current) {\n        var rect = _this.ref.current.getBoundingClientRect();\n\n        var isFitted = canFit(rect);\n        scrolling = !isFitted; // Styles should be computed for IE11\n\n        var legacyStyles = _this.legacy ? getLegacyStyles(isFitted, centered, rect) : {};\n\n        if (!shallowEqual(_this.state.legacyStyles, legacyStyles)) {\n          newState.legacyStyles = legacyStyles;\n        }\n\n        if (_this.state.scrolling !== scrolling) {\n          newState.scrolling = scrolling;\n        }\n      }\n\n      if (!_isEmpty(newState)) _this.setState(newState);\n      _this.animationRequestId = requestAnimationFrame(_this.setPositionAndClassNames);\n    };\n\n    _this.renderContent = function (rest) {\n      var _this$props = _this.props,\n          actions = _this$props.actions,\n          basic = _this$props.basic,\n          children = _this$props.children,\n          className = _this$props.className,\n          closeIcon = _this$props.closeIcon,\n          content = _this$props.content,\n          header = _this$props.header,\n          size = _this$props.size,\n          style = _this$props.style;\n      var _this$state = _this.state,\n          legacyStyles = _this$state.legacyStyles,\n          scrolling = _this$state.scrolling;\n      var classes = cx('ui', size, useKeyOnly(basic, 'basic'), useKeyOnly(_this.legacy, 'legacy'), useKeyOnly(scrolling, 'scrolling'), 'modal transition visible active', className);\n      var ElementType = getElementType(Modal, _this.props);\n      var closeIconName = closeIcon === true ? 'close' : closeIcon;\n      var closeIconJSX = Icon.create(closeIconName, {\n        overrideProps: _this.handleIconOverrides\n      });\n      return /*#__PURE__*/React.createElement(Ref, {\n        innerRef: _this.ref\n      }, /*#__PURE__*/React.createElement(ElementType, _extends({}, rest, {\n        className: classes,\n        style: _extends({}, legacyStyles, style)\n      }), closeIconJSX, childrenUtils.isNil(children) ? /*#__PURE__*/React.createElement(React.Fragment, null, ModalHeader.create(header, {\n        autoGenerateKey: false\n      }), ModalContent.create(content, {\n        autoGenerateKey: false\n      }), ModalActions.create(actions, {\n        overrideProps: _this.handleActionsOverrides\n      })) : children));\n    };\n\n    return _this;\n  }\n\n  var _proto = Modal.prototype;\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    this.handlePortalUnmount();\n  } // Do not access document when server side rendering\n  ;\n\n  _proto.render = function render() {\n    var _this$props2 = this.props,\n        centered = _this$props2.centered,\n        closeOnDocumentClick = _this$props2.closeOnDocumentClick,\n        dimmer = _this$props2.dimmer,\n        eventPool = _this$props2.eventPool,\n        trigger = _this$props2.trigger;\n    var _this$state2 = this.state,\n        open = _this$state2.open,\n        scrolling = _this$state2.scrolling;\n    var mountNode = this.getMountNode(); // Short circuit when server side rendering\n\n    if (!isBrowser()) {\n      return /*#__PURE__*/isValidElement(trigger) ? trigger : null;\n    }\n\n    var unhandled = getUnhandledProps(Modal, this.props);\n    var portalPropNames = Portal.handledProps;\n\n    var rest = _reduce(unhandled, function (acc, val, key) {\n      if (!_includes(portalPropNames, key)) acc[key] = val;\n      return acc;\n    }, {});\n\n    var portalProps = _pick(unhandled, portalPropNames); // Heads up!\n    //\n    // The SUI CSS selector to prevent the modal itself from blurring requires an immediate .dimmer child:\n    // .blurring.dimmed.dimmable>:not(.dimmer) { ... }\n    //\n    // The .blurring.dimmed.dimmable is the body, so that all body content inside is blurred.\n    // We need the immediate child to be the dimmer to :not() blur the modal itself!\n    // Otherwise, the portal div is also blurred, blurring the modal.\n    //\n    // We cannot them wrap the modalJSX in an actual <Dimmer /> instead, we apply the dimmer classes to the <Portal />.\n\n\n    return /*#__PURE__*/React.createElement(Portal, _extends({\n      closeOnDocumentClick: closeOnDocumentClick\n    }, portalProps, {\n      trigger: trigger,\n      eventPool: eventPool,\n      mountNode: mountNode,\n      open: open,\n      onClose: this.handleClose,\n      onMount: this.handlePortalMount,\n      onOpen: this.handleOpen,\n      onUnmount: this.handlePortalUnmount\n    }), /*#__PURE__*/React.createElement(Ref, {\n      innerRef: this.dimmerRef\n    }, ModalDimmer.create(_isPlainObject(dimmer) ? dimmer : {}, {\n      autoGenerateKey: false,\n      defaultProps: {\n        blurring: dimmer === 'blurring',\n        inverted: dimmer === 'inverted'\n      },\n      overrideProps: {\n        children: this.renderContent(rest),\n        centered: centered,\n        mountNode: mountNode,\n        scrolling: scrolling\n      }\n    })));\n  };\n\n  return Modal;\n}(Component);\n\nModal.handledProps = [\"actions\", \"as\", \"basic\", \"centered\", \"children\", \"className\", \"closeIcon\", \"closeOnDimmerClick\", \"closeOnDocumentClick\", \"content\", \"defaultOpen\", \"dimmer\", \"eventPool\", \"header\", \"mountNode\", \"onActionClick\", \"onClose\", \"onMount\", \"onOpen\", \"onUnmount\", \"open\", \"size\", \"style\", \"trigger\"];\nModal.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  /** An element type to render as (string or function). */\n  as: PropTypes.elementType,\n\n  /** Shorthand for Modal.Actions. Typically an array of button shorthand. */\n  actions: customPropTypes.itemShorthand,\n\n  /** A modal can reduce its complexity */\n  basic: PropTypes.bool,\n\n  /** A modal can be vertically centered in the viewport */\n  centered: PropTypes.bool,\n\n  /** Primary content. */\n  children: PropTypes.node,\n\n  /** Additional classes. */\n  className: PropTypes.string,\n\n  /** Shorthand for the close icon. Closes the modal on click. */\n  closeIcon: PropTypes.oneOfType([PropTypes.node, PropTypes.object, PropTypes.bool]),\n\n  /** Whether or not the Modal should close when the dimmer is clicked. */\n  closeOnDimmerClick: PropTypes.bool,\n\n  /** Whether or not the Modal should close when the document is clicked. */\n  closeOnDocumentClick: PropTypes.bool,\n\n  /** Simple text content for the Modal. */\n  content: customPropTypes.itemShorthand,\n\n  /** Initial value of open. */\n  defaultOpen: PropTypes.bool,\n\n  /** A Modal can appear in a dimmer. */\n  dimmer: PropTypes.oneOfType([PropTypes.bool, PropTypes.func, PropTypes.object, PropTypes.oneOf(['inverted', 'blurring'])]),\n\n  /** Event pool namespace that is used to handle component events */\n  eventPool: PropTypes.string,\n\n  /** Modal displayed above the content in bold. */\n  header: customPropTypes.itemShorthand,\n\n  /** The node where the modal should mount. Defaults to document.body. */\n  mountNode: PropTypes.any,\n\n  /**\n   * Action onClick handler when using shorthand `actions`.\n   *\n   * @param {SyntheticEvent} event - React's original SyntheticEvent.\n   * @param {object} data - All props.\n   */\n  onActionClick: PropTypes.func,\n\n  /**\n   * Called when a close event happens.\n   *\n   * @param {SyntheticEvent} event - React's original SyntheticEvent.\n   * @param {object} data - All props.\n   */\n  onClose: PropTypes.func,\n\n  /**\n   * Called when the modal is mounted on the DOM.\n   *\n   * @param {null}\n   * @param {object} data - All props.\n   */\n  onMount: PropTypes.func,\n\n  /**\n   * Called when an open event happens.\n   *\n   * @param {SyntheticEvent} event - React's original SyntheticEvent.\n   * @param {object} data - All props.\n   */\n  onOpen: PropTypes.func,\n\n  /**\n   * Called when the modal is unmounted from the DOM.\n   *\n   * @param {null}\n   * @param {object} data - All props.\n   */\n  onUnmount: PropTypes.func,\n\n  /** Controls whether or not the Modal is displayed. */\n  open: PropTypes.bool,\n\n  /** A modal can vary in size */\n  size: PropTypes.oneOf(['mini', 'tiny', 'small', 'large', 'fullscreen']),\n\n  /** Custom styles. */\n  style: PropTypes.object,\n\n  /** Element to be rendered in-place where the modal is defined. */\n  trigger: PropTypes.node\n  /**\n   * NOTE: Any unhandled props that are defined in Modal are passed-through\n   * to the inner Portal.\n   */\n\n} : {};\nModal.defaultProps = {\n  centered: true,\n  dimmer: true,\n  closeOnDimmerClick: true,\n  closeOnDocumentClick: false,\n  eventPool: 'Modal'\n};\nModal.autoControlledProps = ['open'];\nModal.Actions = ModalActions;\nModal.Content = ModalContent;\nModal.Description = ModalDescription;\nModal.Dimmer = ModalDimmer;\nModal.Header = ModalHeader;\nexport default Modal;"],"sourceRoot":""}